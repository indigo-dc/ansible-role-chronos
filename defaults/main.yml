---
# Zookeeper variables
zookeeper_client_port: "2181"
zookeeper_server_group: zookeeper_servers

zookeeper_peers_nodes: "
	{%- if zookeeper_peers is defined -%}
            {% for host in zookeeper_peers %}{{host}}:{{zookeeper_client_port}}{% if not loop.last %},{% endif %}{% endfor %}
	{%- else -%}
            {%- for host in groups[zookeeper_server_group] -%}{{hostvars[host]['ansible_default_ipv4']['address']}}:{{zookeeper_client_port}}{% if not loop.last %},{% endif %}{% endfor %} 
	{%- endif -%}
"

openssl_self_signed:
  name : "{{ chronos_hostname }}" 
  country: "" 
  state: "" 
  city: ""
  organization: "" 
  unit: "" 
  email: "" 
chronos_enable_ssl: True
chronos_ssl_cert_file: "{% if chronos_ssl_cert_gen == 'letsencrypt' %}/etc/letsencrypt/live/{{chronos_dns_name}}/fullchain.pem{% else %}/etc/chronos/server.crt{% endif %}"
chronos_ssl_key_file: "{% if chronos_ssl_cert_gen == 'letsencrypt' %}/etc/letsencrypt/live/{{chronos_dns_name}}/privkey.pem{% else %}/etc/chronos/server.key{% endif %}"
chronos_ssl_csr_file: /etc/chronos/server.csr
#chronos_ssl_cert_gen - allowed-values = self_signed, letsencrypt, none
chronos_ssl_cert_gen: self_signed
chronos_dns_name:
chronos_certbot_admin_email:
chronos_enable_gpu_support: false
chronos_key_password: "qTZhU73KYx5A"
chronos_pkcs_password: "034sXrLTWkdd"
chronos_jks_password: "xGpcVzlRxNr4"
chronos_username: "admin"
#chronos_password: "secr3t" --> MANDATORY PARAM
#chronos_version: '2.5.0-SNAPSHOT'
chronos_version: 3.0.2
chronos_hostname: "{{ ansible_default_ipv4.address }}"
chronos_framework_name: "chronos"
chronos_http_port: '4400'
chronos_https_port: '4443'
chronos_keystore_path: '/etc/chronos/ssl_keystore.jks'
chronos_server_zk_group: chronos_servers
chronos_image: "marica/chronos:{{ chronos_version }}"
chronos_master_peers: "zk://{{ zookeeper_peers_nodes }}/mesos"
chronos_zk_peers: "zk://{{ zookeeper_peers_nodes }}"
chronos_libprocess_ip: "{{ ansible_default_ipv4.address }}"
# Set disable_after_failures = 1 to avoid jobs flood in case of failures
chronos_disable_after_failures: 1


